<div class="table-responsive">
  <button
    type="button"
    class="btn btn-success"
    data-toggle="modal"
    data-target="#formModal"
  >
    Nuevo Registro
  </button>


  <table class="table">
    <thead>
      <tr>
        <th scope="col">Nombre de película</th>
        <th scope="col">Categoría</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let peliculas of peliculasService.peliculas">
        <td>{{ peliculas.nombreP }}</td>
        <td>{{ peliculas.categoria }}</td>
        <td>
          <a
            data-toggle="modal"
            data-target="#formModal2"
            style="cursor: pointer"
            ><i class="material-icons" (click)="updatePelicula(peliculas)">edit</i></a
          >
        </td>
        <td>
          <a
            (click)="eliminarPelicula(peliculas.id_pelicula)"
            style="cursor: pointer"
            ><i class="material-icons">delete</i></a
          >
        </td>
      </tr>
    </tbody>
  </table>


  <div
  class="modal fade"
  id="formModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="IdmodalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="IdmodalLabel">Agregar Película</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #peliculasForm="ngForm">
          <div class="mb-3">
            <div class="mb-3">
              <div class="input-group">      
                <input name="code" class="form-control" type="hidden" name="id_pelicula" #id_pelicula="ngModel" [(ngModel)]="peliculasService.selectedPeliculas.id_pelicula"/>
              </div>
            </div>
            <label>Nombre</label>
            <div class="input-group">
              <input name="code" class="form-control" name="nombreP" #nombreP="ngModel" [(ngModel)]="peliculasService.selectedPeliculas.nombreP"/>
            </div>
          </div>
          <label for="">Categoría</label>
          <div class="mb-4">
            <select class="form-select" name="categoria" #categoria="ngModel" [(ngModel)]="peliculasService.selectedPeliculas.categoria">
              <option value="" disabled>Elija una categoría</option>
              <option
                value="{{ categorias }}"
                *ngFor="let categorias of categorias"
              >
                {{ categorias }}
              </option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Cancelar
        </button>
        <button type="button" class="btn btn-primary" (click)="createPelicula(peliculasForm)">Guardar</button>
      </div>
    </div>
  </div>
</div>


<div
  class="modal fade"
  id="formModal2"
  tabindex="-1"
  role="dialog"
  aria-labelledby="IdmodalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="IdmodalLabel">Editar Película</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #peliculasForm="ngForm">
          <div class="mb-3">
            <div class="mb-3">
              <div class="input-group">      
                <input name="code" class="form-control" type="hidden" name="id_pelicula" #id_pelicula="ngModel" [(ngModel)]="peliculasService.selectedPeliculas.id_pelicula"/>
              </div>
            </div>
            <label>Nombre</label>
            <div class="input-group">
              <input name="code" class="form-control" name="nombreP" #nombreP="ngModel" [(ngModel)]="peliculasService.selectedPeliculas.nombreP"/>
            </div>
          </div>
          <label for="">Categoría</label>
          <div class="mb-4">
            <select class="form-select" name="categoria" #categoria="ngModel" [(ngModel)]="peliculasService.selectedPeliculas.categoria">
              <option value="" disabled>Elija una categoría</option>
              <option
                value="{{ categorias }}"
                *ngFor="let categorias of categorias"
              >
                {{ categorias }}
              </option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Cancelar
        </button>
        <button type="button" class="btn btn-primary" (click)="createPelicula(peliculasForm)">Guardar</button>
      </div>
    </div>
  </div>
</div>
</div>